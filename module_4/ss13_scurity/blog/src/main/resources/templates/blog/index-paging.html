<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.84.0">
    <title>Blog Template · Bootstrap v5.0</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/5.0/examples/blog/">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <style>
        .bd-placeholder-img {
            font-size: 1.125rem;
            text-anchor: middle;
            -webkit-user-select: none;
            -moz-user-select: none;
            user-select: none;
        }

        @media (min-width: 768px) {
            .bd-placeholder-img-lg {
                font-size: 3.5rem;
            }
        }
    </style>
    <!-- Custom styles for this template -->
    <link href="https://fonts.googleapis.com/css?family=Playfair&#43;Display:700,900&amp;display=swap" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/style/css/blog.css}">
    <link rel="stylesheet" th:href="@{/dist/css/bootstrap.min.css}">
    <!--    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>-->
    <!-- Jquery 3.2.1  -->
    <script th:src="@{/js/jquery-3.2.1.min.js}"></script>
    <script th:src="@{/js/app.js}"></script>


</head>
<body>

<div class="container">
    <header class="blog-header py-3">
        <div class="row flex-nowrap justify-content-between align-items-center">
            <div class="col-4 pt-1">
                <a class="link-secondary" th:href="@{/blog/admin/create}">Create new blog</a>
            </div>
            <div class="col-4 text-center">
                <a class="blog-header-logo text-dark" href="/blog">BLOG HuffPost</a>
            </div>
            <div class="col-4 d-flex justify-content-end align-items-center">
                <form th:action="@{/blog/paging}" method="get">
                    Search by title:
                    <br/>
                    <input name="search" type="text" th:value="${search}"/>
                    <button type="submit" class="link-secondary" aria-label="Search" style="color: red">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                             fill="none" stroke="currentColor" stroke-linecap="round"
                             stroke-linejoin="round" stroke-width="2" class="mx-3"
                             role="img" viewBox="0 0 24 24"><title>Search</title>
                            <circle cx="10.5" cy="10.5" r="7.5"/>
                            <path d="M21 21l-5.2-5.2"/>
                        </svg>
                    </button>
                </form>
                Search by title (ajax)
                <input type="text" id="titleName"/>
                <button onclick="findByTitleName();" class="link-secondary" aria-label="Search">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                         fill="none" stroke="currentColor" stroke-linecap="round"
                         stroke-linejoin="round" stroke-width="2" class="mx-3"
                         role="img" viewBox="0 0 24 24"><title>Search</title>
                        <circle cx="10.5" cy="10.5" r="7.5"/>
                        <path d="M21 21l-5.2-5.2"/>
                    </svg>
                </button>
            </div>
        </div>
    </header>
    <div class="nav-scroller py-1 mb-2">
        <nav class="nav d-flex justify-content-between">
            <span th:each="cat : ${categories}" th:object="${cat}">
            <a class="p-2 link-secondary" th:href="@{/blog/category/{categoryName}(categoryName=*{categoryName})}"
               th:text="*{categoryName}"></a>
                </span>
        </nav>
    </div>
    <th:block th:if="${message != null}">
        <p style="color: red" th:text="${message}"></p>
    </th:block>
</div>
<main class="container">
    <div class="row g-5">
        <div class="col-md-8">
            <h3 class="pb-4 mb-4 fst-italic border-bottom">
                News
            </h3>
            <!--            Code Start-->
            <article class="blog-post" id="result">
                <div class="zone_content" th:each="blog, iter: ${blogs}" th:object="${blog}">
                    <a th:href="@{/blog/detail/{id}(id=*{id})}" class="text-decoration-none">
                        <h2 class="blog-post-title" th:text="*{title}"></h2>
                    </a>
                    <p th:text="*{contentSummary}"></p>
                    <p><span style="color: grey" th:text="*{#dates.format(datePublish, 'dd-MMM-yyyy')}"></span> by <span
                            th:text="*{author}" style="font-weight: bold"></span></p>
                    <table>
                        <tr>
                            <td><a th:href="@{/blog/admin/edit/{id}(id=*{id})}">
                                <button class="btn btn-warning">Edit</button>
                            </a></td>
                            <td>
                                <button class="btn btn-danger" data-bs-toggle="modal"
                                        th:attr="data-bs-target='#exampleModal'+${blog.id}"
                                >
                                    Delete
                                </button>
                            </td>
                        </tr>
                    </table>
                    <hr/>
                    <!-- Modal -->
                    <div class="modal fade"
                         th:attr="id='exampleModal'+${blog.id}"
                         tabindex="-1" aria-labelledby="exampleModalLabel"
                         aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalLabel">Delete Blog</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                            aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <span>Do you want remove </span><span style="color: red" th:text="*{title}"></span>
                                    <span>?</span>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close
                                    </button>
                                    <a th:href="@{/blog/delete/{id}(id=*{id})}">
                                        <button type="button" class="btn btn-primary">Delete</button>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <input type="text" id="count" th:value="${blogs.size}" hidden/>

                </div>
                <div id="loadMoreResult">

                </div>
                <div id="loadMoreHidden">
                    <button onclick="loadMore();" class="link-secondary" aria-label="Search">
                        Load More
                    </button>
                    <br/>
                    <!--                    Phân trang-->
                    <div class="block-outer block-outer--after">
                        <a th:href="@{/blog/paging(size=${blogs.size}, page=${blogs.number})}"
                           th:if="${blogs.hasPrevious()}"
                           class="btn border border-primary" style="float: left">Previous</a>
                        <div th:if="${blogs.totalPages>0}"
                             th:each="pageNumber : ${pageNumbers}">
                            <a th:href="@{/blog/paging(size=${blogs.size}, page=${pageNumber})}"
                               th:text="${pageNumber}"
                               th:class="${pageNumber==blogs.number +1} ? 'btn btn-primary' : 'btn border border-primary'"
                               style="float: left"></a>
                        </div>
                        <a th:href="@{/blog/paging(size=${blogs.size}, page=${blogs.number+2})}"
                           th:if="${blogs.hasNext()}"
                           class="btn border border-primary" style="float: left">Next</a>
                    </div>
                </div>
            </article>
            <!--            Code End-->
        </div>

        <div class="col-md-4">
            <div class="position-sticky" style="top: 2rem;">
                <div class="p-4 mb-3 bg-light rounded">
                    <h4 class="fst-italic">About</h4>
                    <p class="mb-0">At HuffPost, we report with empathy and put people at the heart of every story.
                        We take a people-first approach in everything we report—be it news and politics or lifestyle and
                        entertainment—and
                        we cover real stories about real life. Regardless of who you are, where you live or what you
                        believe,
                        you can count on HuffPost to help you navigate what’s happening in the world and how it affects
                        you.
                        We consider the needs, passions and curiosity of our readers in all of our journalism.
                        If something matters to our readers, it matters to us.

                    </p>
                </div>
            </div>
        </div>
    </div>
</main>

<br/>
<br/>
<!--Phân trang theo james-->
<!--<div th:if="${Paging}">-->
<!--    <a th:href="@{'/blog/paging'(page=${blogs.number-1})}" th:if="${blogs.hasPrevious()}">Previous</a>-->
<!--    <span th:text="${blogs.number + 1}"></span>/<span th:text="${blogs.totalPages}"></span>-->
<!--    <a th:href="@{'/blog/paging'(page=${blogs.number+1})}" th:if="${blogs.hasNext()}">Next</a>-->
<!--</div>-->

<footer class="blog-footer">
    <p>Blog template built for <a href="https://getbootstrap.com/">Bootstrap</a> by <a href="https://twitter.com/mdo">@mdo</a>.
    </p>
    <p>
        <a href="#">Back to top</a>
    </p>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>

</body>
</html>
